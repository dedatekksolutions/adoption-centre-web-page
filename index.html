<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Head component will be dynamically loaded -->
</head>
<body>

  <!-- header component -->
  <div id="header-container"></div>

  <main id="main-content">
    <section class="intro">
      <h1 class="main-heading">Welcome to the Good Dog - Dog Fostering and Adoption Centre</h1>
      <p class="main-paragraph">We are dedicated to finding loving homes for abandoned and homeless dogs...</p>
    </section>
    <!-- Dog profile card that switches content every 6 seconds to align with human attention span -->
    <section class="dog-profile" id="dog-profile">
    </section>
  </main>
  
  <!-- Footer component -->
  <div id="footer-container"></div>

</body>
</html>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Load head component
    fetch('head.html')
      .then(response => response.text())
      .then(data => {
        document.head.innerHTML += data;
      })
      .catch(error => console.error('Error loading head:', error));

    // Load header component
    var headerContainer = document.getElementById('header-container');
    fetch('header.html')
      .then(response => response.text())
      .then(data => {
        headerContainer.innerHTML = data;

        // Now that header is loaded, attach event listener to toggle button
        var toggleButton = document.getElementById('toggle-style-btn');
        if (toggleButton) {
          toggleButton.addEventListener('click', function() {
            var redBorderStyle = document.getElementById('red-border-style');
            redBorderStyle.disabled = !redBorderStyle.disabled;
          });
        }
      });

    // Load footer component
    var footerContainer = document.getElementById('footer-container');
    fetch('footer.html')
      .then(response => response.text())
      .then(data => {
        footerContainer.innerHTML = data;
      });

    // Load dog profiles and switch content every 6 seconds
    const profileContainer = document.getElementById('dog-profile');
    let currentProfile = 0;
    let profiles = [];

    // Fetch the dog profiles from the external HTML file
    fetch('dog-profiles.html')
      .then(response => response.text())
      .then(data => {
        // Create a temporary container to hold the fetched content
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = data;

        // Select all dog profile items and store them in an array
        profiles = Array.from(tempDiv.getElementsByClassName('dog-profile-item'));

        // Display the first profile
        profileContainer.innerHTML = profiles[currentProfile].outerHTML;

        // Function to switch profiles every 6 seconds
        setInterval(() => {
          currentProfile = (currentProfile + 1) % profiles.length;
          profileContainer.innerHTML = profiles[currentProfile].outerHTML;
        }, 6000);
      })
      .catch(error => console.error('Error fetching profiles:', error));
  });
</script>
